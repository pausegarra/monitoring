[smtp]
enabled = true
host = email-smtp.eu-west-3.amazonaws.com:587
user = ${EMAIL_USERNAME}
password = ${EMAIL_PASSWORD}
from_address = no-reply@pausegarra.es
startTLS_policy = MandatoryStartTLS
from_name = Monitoring

[server]
domain = monitoring.pausegarra.es
root_url = https://monitoring.pausegarra.es

[auth.generic_oauth]
enabled = true
name = Keycloak-OAuth
allow_sign_up = true
client_id = ${KEYCLOAK_CLIENT_ID}
client_secret = ${KEYCLOAK_CLIENT_SECRET}
scopes = openid email profile offline_access roles
email_attribute_path = email
login_attribute_path = username
name_attribute_path = full_name
auth_url = https://auth.pausegarra.es/realms/principal/protocol/openid-connect/auth
token_url = https://auth.pausegarra.es/realms/principal/protocol/openid-connect/token
api_url = https://auth.pausegarra.es/realms/principal/protocol/openid-connect/userinfo
role_attribute_path = contains(roles[*], 'grafana-admin') && 'Admin' || contains(roles[*], 'grafana-editor') && 'Editor' || 'Viewer'